{% load staticfiles is_active %}
<!DOCTYPE html>
<html lang="en">
	<head>
	    <!-- Basic Page Needs.
	    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
		<meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title>
			{% block title %}
				MyMensor
			{% endblock %}
		</title>
	    <meta name="MyMensor WebApp" content="">
	    <meta name="SeaMate" content="">

	    <!-- Mobile Specific Metas
	    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
	    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	    <!-- FONT
	    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
	    <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">

	    <!-- CSS
	    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
        <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}" >
        <link rel="stylesheet" href="{% static 'css/font-awesome.min.css' %}" >
        <link rel="stylesheet" href="{% static 'css/toolkit-light.min.css' %}" >
        <link rel="stylesheet" href="{% static 'css/daterangepicker.css' %}" >
        <link rel="stylesheet" href="{% static 'css/mymensorstyle.css' %}" >
        <!-- Favicon
	    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
        <link rel="apple-touch-icon" sizes="180x180" href="{% static 'images/apple-touch-icon.png' %}">
        <link rel="icon" type="image/png" href="{% static 'images/favicon-32x32.png' %}" sizes="32x32">
        <link rel="icon" type="image/png" href="{% static 'images/favicon-16x16.png' %}" sizes="16x16">
        <link rel="manifest" href="{% static 'images/manifest.json' %}">
        <link rel="mask-icon" href="{% static 'images/safari-pinned-tab.svg' %}" color="#00afef">
        <link rel="shortcut icon" href="{% static 'images/favicon.ico' %}">
        <meta name="msapplication-config" content="images/browserconfig.xml">
        <meta name="theme-color" content="#00afef">
		{% block header %}{% endblock %}
	</head>
    <body>
        <nav class="navbar navbar-fixed-top navbar-toggleable-md navbar-light" style="background-color: #e3f2fd;" id="myNavbar">
            <button type="button" class="navbar-toggler navbar-toggler-right" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div id="navbarNavDropdown" class="collapse navbar-collapse">
                <a class="navbar-brand" href="{% url 'portfolio' %}"><img src="{% static 'images/Logo_MyMensor_NEW3.svg' %}" width="46" height="46" alt=""></a>
                <ul class="navbar-nav">
                    {% if user.is_authenticated %}
                        <li class="nav-item"><a class="nav-link {% is_active request 'portfolio' %}" href="{% url 'portfolio' %}">Portfolio</a></li>
                        <li class="nav-item"><a class="nav-link {% is_active request 'mediafeed' %}" href="{% url 'mediafeed' %}">Mediafeed</a></li>
                        <li class="nav-item"><a class="nav-link {% is_active request 'setup' %}" href="{% url 'setup' %}">Setup</a></li>
                        <li class="nav-item"><a class="nav-link {% is_active request 'contact' %}" href="{% url 'contact' %}">Contact</a></li>
                        <li class="nav-item"><a class="nav-link {% is_active request 'auth_logout' %}" href="{% url 'auth_logout' %}">Logout</a></li>
                    {% else %}
                        <li class="nav-item"><a class="nav-link {% is_active request 'auth_login' %}" href="{% url 'auth_login' %}">Login</a></li>
                        <li class="nav-item"><a class="nav-link {% is_active request 'registration_register' %}" id="regnewuser" href="{% url 'registration_register' %}">Register</a></li>
                    {% endif %}
                    {% if user.is_authenticated %}
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Logged in as: {{ user.get_username }}
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                                <a class="dropdown-item" href="{% url 'auth_logout' %}">Logout</a>
                                <a class="dropdown-item" href="{% url 'auth_password_change' %}">Password change</a>
                            </div>
                        </li>
                    {% endif %}
                </ul>
            </div>
        </nav>
        <div class="container-fluid">
            {% block content %}{% endblock %}
            {% block footer %}{% endblock %}
        </div><!-- /.container -->
        <script src="{% static "js/jquery-3.1.1.min.js" %}"></script>
        <script src="{% static "js/tether.min.js" %}"></script>
        <script src="{% static "js/chainedfk.js" %}"></script>
        <script src="{% static "js/bootstrap.min.js" %}"></script>
        <script src="{% static "js/toolkit.min.js" %}"></script>
        <script src="{% static "js/moment.min.js" %}"></script>
        <script src="{% static "js/daterangepicker.js" %}"></script>
        <script src="{% static "js/mymensor-jquery.js" %}"></script>
        <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
        <script src="{% static "js/ie10-viewport-bug-workaround.js" %}"></script>
        <!-- Page Local Scripts
	    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
        <script type="text/javascript">
        $(function() {

            var start = moment().subtract(29, 'days');
            var end = moment();

            function cb(start, end) {
                $('#reportrange span').html(start.format('YYYY-MMM-DD') + ' - ' + end.format('YYYY-MMM-DD'));
            }

            $('#reportrange').daterangepicker({
                startDate: start,
                endDate: end,
                "alwaysShowCalendars": true,
                ranges: {
                   'Today': [moment(), moment()],
                   'Yesterday': [moment().subtract(1, 'days'), moment().subtract(1, 'days')],
                   'Last 7 Days': [moment().subtract(6, 'days'), moment()],
                   'Last 30 Days': [moment().subtract(29, 'days'), moment()],
                   'This Month': [moment().startOf('month'), moment().endOf('month')],
                   'Last Month': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')]
                }
            }, cb);

            cb(start, end);

        });
        </script>
    </body>
</html>
